<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NiFi Registry - ë²„ì „ê´€ë¦¬ì™€ ë°°í¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .breadcrumb {
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        
        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }
        
        .content-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        h3 {
            color: #34495e;
            font-size: 1.4em;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        
        p {
            color: #555;
            margin-bottom: 15px;
        }
        
        .registry-diagram {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            padding: 30px;
            margin: 20px 0;
            text-align: center;
            color: white;
        }
        
        .flow-diagram {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        .flow-box {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin: 10px;
            min-width: 150px;
            text-align: center;
        }
        
        .flow-arrow {
            font-size: 2em;
            margin: 0 20px;
        }
        
        .code-block {
            background: #2c3e50;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            overflow-x: auto;
            position: relative;
        }
        
        .code-block::before {
            content: attr(data-language);
            position: absolute;
            top: 5px;
            right: 10px;
            background: rgba(255,255,255,0.1);
            padding: 3px 10px;
            border-radius: 3px;
            font-size: 0.8em;
            color: #95a5a6;
        }
        
        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
            white-space: pre;
            display: block;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-card h4 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .info-box {
            background: #d1ecf1;
            border-left: 5px solid #17a2b8;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .info-box strong {
            color: #0c5460;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box strong {
            color: #856404;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box strong {
            color: #155724;
        }
        
        .steps-container {
            counter-reset: step-counter;
        }
        
        .step-item {
            position: relative;
            padding-left: 50px;
            margin-bottom: 30px;
        }
        
        .step-item::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        td {
            border: 1px solid #dee2e6;
            padding: 12px;
        }
        
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        
        .inline-code {
            background: #ecf0f1;
            color: #e74c3c;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }
        
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
        }
        
        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            transition: transform 0.3s;
        }
        
        .nav-button:hover {
            transform: translateY(-3px);
        }
        
        .version-flow {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .version-timeline {
            position: relative;
            padding-left: 40px;
            margin: 20px 0;
        }
        
        .version-timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #667eea;
        }
        
        .version-item {
            position: relative;
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .version-item::before {
            content: '';
            position: absolute;
            left: -29px;
            top: 20px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
            border: 3px solid white;
        }
        
        .architecture-box {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .architecture-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .arch-component {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 10px;
            min-width: 180px;
        }
        
        .arch-arrow {
            font-size: 1.5em;
            color: #667eea;
            margin: 0 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="breadcrumb">
                <a href="index.html">í™ˆ</a> &gt; NiFi Registry - ë²„ì „ê´€ë¦¬ì™€ ë°°í¬
            </div>
            <h1>ğŸ“š NiFi Registry - ë²„ì „ê´€ë¦¬ì™€ ë°°í¬</h1>
            <p>Apache NiFi Registryë¥¼ í™œìš©í•œ í”Œë¡œìš° ë²„ì „ ê´€ë¦¬, í˜‘ì—…, ê·¸ë¦¬ê³  ë°°í¬ ìë™í™”</p>
        </header>

        <div class="content-section">
            <h2>ğŸ¯ NiFi Registryë€?</h2>
            <p>
                Apache NiFi RegistryëŠ” NiFi ë°ì´í„° í”Œë¡œìš°ì˜ ë²„ì „ ê´€ë¦¬ë¥¼ ìœ„í•œ ì¤‘ì•™ ì €ì¥ì†Œì…ë‹ˆë‹¤. 
                Gitê³¼ ê°™ì€ ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œì²˜ëŸ¼ í”Œë¡œìš°ì˜ ë³€ê²½ ì‚¬í•­ì„ ì¶”ì í•˜ê³ , ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±í•˜ë©°, 
                íŒ€ ê°„ í˜‘ì—…ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.
            </p>
            
            <div class="registry-diagram">
                <h3 style="color: white; margin-bottom: 20px;">ğŸ”„ NiFi Registry ì›Œí¬í”Œë¡œìš°</h3>
                <div class="flow-diagram">
                    <div class="flow-box">
                        <h4>ê°œë°œ í™˜ê²½</h4>
                        <p>NiFi Instance</p>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-box">
                        <h4>Registry</h4>
                        <p>ë²„ì „ ì €ì¥ì†Œ</p>
                    </div>
                    <span class="flow-arrow">â†’</span>
                    <div class="flow-box">
                        <h4>ìš´ì˜ í™˜ê²½</h4>
                        <p>NiFi Instance</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>âœ¨ ì£¼ìš” ê¸°ëŠ¥</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸ“Š ë²„ì „ ê´€ë¦¬</h4>
                    <p>â€¢ í”Œë¡œìš° ë³€ê²½ ì‚¬í•­ ì¶”ì </p>
                    <p>â€¢ ì»¤ë°‹ ë©”ì‹œì§€ì™€ í•¨ê»˜ ì €ì¥</p>
                    <p>â€¢ ë²„ì „ ê°„ ì°¨ì´ì  ë¹„êµ</p>
                    <p>â€¢ ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ‘¥ í˜‘ì—… ì§€ì›</h4>
                    <p>â€¢ íŒ€ ê°„ í”Œë¡œìš° ê³µìœ </p>
                    <p>â€¢ ì¤‘ì•™ ì§‘ì¤‘ì‹ ê´€ë¦¬</p>
                    <p>â€¢ ì•¡ì„¸ìŠ¤ ì œì–´</p>
                    <p>â€¢ ë³€ê²½ ì´ë ¥ ì¶”ì </p>
                </div>
                <div class="feature-card">
                    <h4>ğŸš€ ë°°í¬ ìë™í™”</h4>
                    <p>â€¢ ê°œë°œâ†’í…ŒìŠ¤íŠ¸â†’ìš´ì˜ ë°°í¬</p>
                    <p>â€¢ CI/CD íŒŒì´í”„ë¼ì¸ í†µí•©</p>
                    <p>â€¢ í™˜ê²½ë³„ êµ¬ì„± ê´€ë¦¬</p>
                    <p>â€¢ ë¡¤ë°± ì§€ì›</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ” ë³´ì•ˆ</h4>
                    <p>â€¢ HTTPS ì§€ì›</p>
                    <p>â€¢ ì‚¬ìš©ì ì¸ì¦/ì¸ê°€</p>
                    <p>â€¢ Git ë°±ì—”ë“œ ì§€ì›</p>
                    <p>â€¢ ê°ì‚¬ ë¡œê¹…</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ—ï¸ ì•„í‚¤í…ì²˜</h2>
            
            <div class="architecture-box">
                <h3>NiFi Registry êµ¬ì„± ìš”ì†Œ</h3>
                <div class="architecture-flow">
                    <div class="arch-component">
                        <h4>Web UI</h4>
                        <p>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤</p>
                    </div>
                    <span class="arch-arrow">â†”</span>
                    <div class="arch-component">
                        <h4>REST API</h4>
                        <p>í”„ë¡œê·¸ë˜ë§¤í‹± ì•¡ì„¸ìŠ¤</p>
                    </div>
                    <span class="arch-arrow">â†”</span>
                    <div class="arch-component">
                        <h4>Storage</h4>
                        <p>íŒŒì¼ì‹œìŠ¤í…œ/Git/DB</p>
                    </div>
                </div>
            </div>

            <h3>í•µì‹¬ ê°œë…</h3>
            <table>
                <thead>
                    <tr>
                        <th>ê°œë…</th>
                        <th>ì„¤ëª…</th>
                        <th>Git ìœ ì‚¬ ê°œë…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Bucket</strong></td>
                        <td>í”Œë¡œìš°ë¥¼ ê·¸ë£¹í™”í•˜ëŠ” ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ</td>
                        <td>Repository</td>
                    </tr>
                    <tr>
                        <td><strong>Flow</strong></td>
                        <td>ë²„ì „ ê´€ë¦¬ë˜ëŠ” NiFi í”„ë¡œì„¸ìŠ¤ ê·¸ë£¹</td>
                        <td>Branch</td>
                    </tr>
                    <tr>
                        <td><strong>Flow Snapshot</strong></td>
                        <td>íŠ¹ì • ì‹œì ì˜ í”Œë¡œìš° ìƒíƒœ</td>
                        <td>Commit</td>
                    </tr>
                    <tr>
                        <td><strong>Version</strong></td>
                        <td>í”Œë¡œìš° ìŠ¤ëƒ…ìƒ·ì˜ ìˆœì°¨ì  ë²ˆí˜¸</td>
                        <td>Commit Hash</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="content-section">
            <h2>ğŸš€ Registry ì„¤ì¹˜ ë° ì„¤ì •</h2>
            
            <h3>Dockerë¥¼ ì´ìš©í•œ ë¹ ë¥¸ ì‹œì‘</h3>
            <div class="code-block" data-language="bash">
                <code># NiFi Registry ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
docker pull apache/nifi-registry:latest

# Registry ì‹¤í–‰ (ë³´ì•ˆ ëª¨ë“œ)
docker run --name nifi-registry \
  -p 18443:18443 \
  -e SINGLE_USER_CREDENTIALS_USERNAME=admin \
  -e SINGLE_USER_CREDENTIALS_PASSWORD=registryPassword123! \
  -d \
  apache/nifi-registry:latest

# ì ‘ì† URL: https://localhost:18443/nifi-registry</code>
            </div>

            <h3>Docker Composeë¡œ NiFi + Registry í†µí•© í™˜ê²½</h3>
            <div class="code-block" data-language="yaml">
                <code># docker-compose.yml
version: '3.8'

services:
  nifi:
    image: apache/nifi:latest
    container_name: nifi
    ports:
      - "8443:8443"
    environment:
      - SINGLE_USER_CREDENTIALS_USERNAME=admin
      - SINGLE_USER_CREDENTIALS_PASSWORD=nifiPassword123!
      - NIFI_WEB_HTTPS_PORT=8443
    volumes:
      - nifi-conf:/opt/nifi/nifi-current/conf
      - nifi-database:/opt/nifi/nifi-current/database_repository
      - nifi-flowfile:/opt/nifi/nifi-current/flowfile_repository
      - nifi-content:/opt/nifi/nifi-current/content_repository
      - nifi-provenance:/opt/nifi/nifi-current/provenance_repository
      - nifi-state:/opt/nifi/nifi-current/state
      - nifi-logs:/opt/nifi/nifi-current/logs
    networks:
      - nifi-network
    depends_on:
      - nifi-registry
    healthcheck:
      test: ["CMD", "curl", "-k", "https://localhost:8443/nifi"]
      interval: 30s
      timeout: 10s
      retries: 5

  nifi-registry:
    image: apache/nifi-registry:latest
    container_name: nifi-registry
    ports:
      - "18443:18443"
    environment:
      - SINGLE_USER_CREDENTIALS_USERNAME=admin
      - SINGLE_USER_CREDENTIALS_PASSWORD=registryPassword123!
      - NIFI_REGISTRY_WEB_HTTPS_PORT=18443
    volumes:
      - nifi-registry-database:/opt/nifi-registry/nifi-registry-current/database
      - nifi-registry-flow-storage:/opt/nifi-registry/nifi-registry-current/flow_storage
      - nifi-registry-logs:/opt/nifi-registry/nifi-registry-current/logs
    networks:
      - nifi-network
    healthcheck:
      test: ["CMD", "curl", "-k", "https://localhost:18443/nifi-registry"]
      interval: 30s
      timeout: 10s
      retries: 5

volumes:
  nifi-conf:
  nifi-database:
  nifi-flowfile:
  nifi-content:
  nifi-provenance:
  nifi-state:
  nifi-logs:
  nifi-registry-database:
  nifi-registry-flow-storage:
  nifi-registry-logs:

networks:
  nifi-network:
    driver: bridge</code>
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ íŒ:</strong> NiFi RegistryëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 18080 í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, 
                NiFi 2.xë¶€í„°ëŠ” ë³´ì•ˆì´ ê¸°ë³¸ì´ë¯€ë¡œ 18443 (HTTPS) í¬íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            </div>
            
            <div class="warning-box">
                <strong>ğŸ“Œ ë³¼ë¥¨ ì„¤ì • ì°¸ê³ :</strong>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ìœ„ ì˜ˆì œì˜ volumesëŠ” Dockerê°€ ìë™ ê´€ë¦¬í•˜ëŠ” named volumesì…ë‹ˆë‹¤</li>
                    <li>í˜¸ìŠ¤íŠ¸ ê²½ë¡œë¥¼ ì§€ì •í•˜ë ¤ë©´: <span class="inline-code">./data/nifi-conf:/opt/nifi/nifi-current/conf</span></li>
                    <li>named volumesëŠ” <span class="inline-code">docker volume ls</span>ë¡œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤</li>
                    <li>ë°ì´í„°ëŠ” <span class="inline-code">/var/lib/docker/volumes/</span>ì— ì €ì¥ë©ë‹ˆë‹¤</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ”— NiFiì™€ Registry ì—°ê²°</h2>
            
            <div class="steps-container">
                <div class="step-item">
                    <h3>Registry Client ì¶”ê°€</h3>
                    <p>NiFi UIì—ì„œ Controller Settings â†’ Registry Clients â†’ Add Registry Client</p>
                    <div class="code-block" data-language="properties">
                        <code>Name: Production Registry
URL: https://nifi-registry:18443
Description: ìš´ì˜ í™˜ê²½ í”Œë¡œìš° ë²„ì „ ê´€ë¦¬</code>
                    </div>
                </div>

                <div class="step-item">
                    <h3>Bucket ìƒì„±</h3>
                    <p>Registry UIì—ì„œ ìƒˆ Bucket ìƒì„±</p>
                    <div class="code-block" data-language="properties">
                        <code>Bucket Name: production-flows
Description: ìš´ì˜ í™˜ê²½ í”Œë¡œìš° ì €ì¥ì†Œ</code>
                    </div>
                </div>

                <div class="step-item">
                    <h3>Process Group ë²„ì „ ê´€ë¦¬ ì‹œì‘</h3>
                    <p>NiFiì—ì„œ Process Group ìš°í´ë¦­ â†’ Version â†’ Start version control</p>
                    <div class="code-block" data-language="properties">
                        <code>Registry: Production Registry
Bucket: production-flows
Flow Name: ETL Pipeline v1
Flow Description: ê³ ê° ë°ì´í„° ETL íŒŒì´í”„ë¼ì¸
Version Comments: ì´ˆê¸° ë²„ì „</code>
                    </div>
                </div>
            </div>

            <div class="success-box">
                <strong>âœ… ì„±ê³µ:</strong> Process Groupì´ ì´ì œ ë²„ì „ ê´€ë¦¬ë©ë‹ˆë‹¤. 
                ë³€ê²½ì‚¬í•­ì´ ìˆìœ¼ë©´ ê·¸ë£¹ ì•„ì´ì½˜ì— ë³„í‘œ(*)ê°€ í‘œì‹œë©ë‹ˆë‹¤.
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ“ ë²„ì „ ê´€ë¦¬ ì›Œí¬í”Œë¡œìš°</h2>
            
            <div class="version-flow">
                <h3>ì¼ë°˜ì ì¸ ë²„ì „ ê´€ë¦¬ í”„ë¡œì„¸ìŠ¤</h3>
                <div class="version-timeline">
                    <div class="version-item">
                        <h4>1. ì´ˆê¸° ì»¤ë°‹</h4>
                        <p>Process Groupì„ Registryì— ì²˜ìŒ ì €ì¥</p>
                        <span class="inline-code">Version 1: Initial flow setup</span>
                    </div>
                    <div class="version-item">
                        <h4>2. ë³€ê²½ ì‘ì—…</h4>
                        <p>í”„ë¡œì„¸ì„œ ì¶”ê°€, ì†ì„± ë³€ê²½, ì—°ê²° ìˆ˜ì • ë“±</p>
                        <span class="inline-code">Local changes (uncommitted)</span>
                    </div>
                    <div class="version-item">
                        <h4>3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹</h4>
                        <p>Process Group ìš°í´ë¦­ â†’ Version â†’ Commit local changes</p>
                        <span class="inline-code">Version 2: Added data validation</span>
                    </div>
                    <div class="version-item">
                        <h4>4. ë²„ì „ ë¹„êµ</h4>
                        <p>Show local changesë¡œ ë³€ê²½ì‚¬í•­ í™•ì¸</p>
                        <span class="inline-code">Diff: +3 processors, -1 connection</span>
                    </div>
                    <div class="version-item">
                        <h4>5. ë¡¤ë°± (í•„ìš”ì‹œ)</h4>
                        <p>Revert local changes ë˜ëŠ” Change version</p>
                        <span class="inline-code">Reverted to Version 1</span>
                    </div>
                </div>
            </div>

            <h3>ë²„ì „ ê´€ë¦¬ ëª…ë ¹ì–´</h3>
            <table>
                <thead>
                    <tr>
                        <th>ì‘ì—…</th>
                        <th>UI ë©”ë‰´</th>
                        <th>ì„¤ëª…</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ë²„ì „ ê´€ë¦¬ ì‹œì‘</td>
                        <td>Start version control</td>
                        <td>Process Groupì„ Registryì— ë“±ë¡</td>
                    </tr>
                    <tr>
                        <td>ë³€ê²½ì‚¬í•­ ì»¤ë°‹</td>
                        <td>Commit local changes</td>
                        <td>ë¡œì»¬ ë³€ê²½ì‚¬í•­ì„ ìƒˆ ë²„ì „ìœ¼ë¡œ ì €ì¥</td>
                    </tr>
                    <tr>
                        <td>ë³€ê²½ì‚¬í•­ ë³´ê¸°</td>
                        <td>Show local changes</td>
                        <td>í˜„ì¬ ë²„ì „ê³¼ ë¡œì»¬ì˜ ì°¨ì´ì  í‘œì‹œ</td>
                    </tr>
                    <tr>
                        <td>ë³€ê²½ì‚¬í•­ ë˜ëŒë¦¬ê¸°</td>
                        <td>Revert local changes</td>
                        <td>ëª¨ë“  ë¡œì»¬ ë³€ê²½ì‚¬í•­ ì·¨ì†Œ</td>
                    </tr>
                    <tr>
                        <td>ë²„ì „ ë³€ê²½</td>
                        <td>Change version</td>
                        <td>ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ ì „í™˜</td>
                    </tr>
                    <tr>
                        <td>ë²„ì „ ê´€ë¦¬ ì¤‘ì§€</td>
                        <td>Stop version control</td>
                        <td>Registry ì—°ê²° í•´ì œ</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="content-section">
            <h2>ğŸ”„ í”Œë¡œìš° ê°€ì ¸ì˜¤ê¸°/ë‚´ë³´ë‚´ê¸°</h2>
            
            <h3>Registryì—ì„œ í”Œë¡œìš° ê°€ì ¸ì˜¤ê¸°</h3>
            <div class="steps-container">
                <div class="step-item">
                    <h3>Canvasì—ì„œ Process Group ì¶”ê°€</h3>
                    <div class="code-block" data-language="text">
                        <code>1. NiFi Canvas ë¹ˆ ê³µê°„ ìš°í´ë¦­
2. Add Process Group ì„ íƒ
3. "Import from Registry" ì˜µì…˜ ì„ íƒ
4. Registry, Bucket, Flow ì„ íƒ
5. Version ì„ íƒ (latest ë˜ëŠ” íŠ¹ì • ë²„ì „)</code>
                    </div>
                </div>
            </div>

            <h3>ë‹¤ë¥¸ í™˜ê²½ìœ¼ë¡œ í”Œë¡œìš° ë°°í¬</h3>
            <div class="code-block" data-language="bash">
                <code># REST APIë¥¼ í†µí•œ í”Œë¡œìš° export
curl -X GET \
  "https://registry-server:18443/nifi-registry-api/buckets/{bucketId}/flows/{flowId}/versions/{version}/export" \
  -H "Authorization: Bearer $TOKEN" \
  -o flow-export.json

# ë‹¤ë¥¸ NiFi ì¸ìŠ¤í„´ìŠ¤ë¡œ import
curl -X POST \
  "https://nifi-server:8443/nifi-api/process-groups/{pgId}/process-groups" \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d @flow-export.json</code>
            </div>

            <div class="warning-box">
                <strong>âš ï¸ ì£¼ì˜ì‚¬í•­:</strong> 
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ë¯¼ê°í•œ ì†ì„±(íŒ¨ìŠ¤ì›Œë“œ ë“±)ì€ exportë˜ì§€ ì•ŠìŒ</li>
                    <li>Controller ServiceëŠ” ë³„ë„ë¡œ êµ¬ì„± í•„ìš”</li>
                    <li>í™˜ê²½ë³„ ë³€ìˆ˜ëŠ” Parameter Contextë¡œ ê´€ë¦¬</li>
                </ul>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ”§ ê³ ê¸‰ ì„¤ì •</h2>
            
            <h3>Git ë°±ì—”ë“œ ì„¤ì •</h3>
            <div class="code-block" data-language="yaml">
                <code># providers.xml
&lt;flowPersistenceProvider&gt;
    &lt;class&gt;org.apache.nifi.registry.provider.flow.git.GitFlowPersistenceProvider&lt;/class&gt;
    &lt;property name="Flow Storage Directory"&gt;./flow_storage&lt;/property&gt;
    &lt;property name="Remote To Push"&gt;origin&lt;/property&gt;
    &lt;property name="Remote Access User"&gt;git-user&lt;/property&gt;
    &lt;property name="Remote Access Password"&gt;git-password&lt;/property&gt;
&lt;/flowPersistenceProvider&gt;</code>
            </div>

            <h3>ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—”ë“œ ì„¤ì •</h3>
            <div class="code-block" data-language="properties">
                <code># nifi-registry.properties
nifi.registry.db.url=jdbc:postgresql://localhost:5432/nifi_registry
nifi.registry.db.driver.class=org.postgresql.Driver
nifi.registry.db.username=nifi
nifi.registry.db.password=nifi123
nifi.registry.db.max.connections=10</code>
            </div>

            <h3>LDAP ì¸ì¦ ì„¤ì •</h3>
            <div class="code-block" data-language="xml">
                <code># identity-providers.xml
&lt;provider&gt;
    &lt;identifier&gt;ldap-provider&lt;/identifier&gt;
    &lt;class&gt;org.apache.nifi.registry.security.ldap.LdapIdentityProvider&lt;/class&gt;
    &lt;property name="Authentication Strategy"&gt;SIMPLE&lt;/property&gt;
    &lt;property name="Manager DN"&gt;cn=admin,dc=example,dc=com&lt;/property&gt;
    &lt;property name="Manager Password"&gt;admin-password&lt;/property&gt;
    &lt;property name="Url"&gt;ldap://ldap-server:389&lt;/property&gt;
    &lt;property name="User Search Base"&gt;ou=users,dc=example,dc=com&lt;/property&gt;
    &lt;property name="User Search Filter"&gt;(uid={0})&lt;/property&gt;
&lt;/provider&gt;</code>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸš€ CI/CD í†µí•©</h2>
            
            <h3>Jenkins Pipeline ì˜ˆì œ</h3>
            <div class="code-block" data-language="groovy">
                <code>pipeline {
    agent any
    
    environment {
        REGISTRY_URL = 'https://nifi-registry:18443'
        NIFI_DEV = 'https://nifi-dev:8443'
        NIFI_PROD = 'https://nifi-prod:8443'
    }
    
    stages {
        stage('Export from Dev') {
            steps {
                script {
                    // Dev í™˜ê²½ì—ì„œ ìµœì‹  í”Œë¡œìš° export
                    sh """
                        curl -X GET \
                          "${REGISTRY_URL}/nifi-registry-api/buckets/dev/flows/etl-flow/versions/latest/export" \
                          -H "Authorization: Bearer ${REGISTRY_TOKEN}" \
                          -o flow-latest.json
                    """
                }
            }
        }
        
        stage('Validate Flow') {
            steps {
                script {
                    // í”Œë¡œìš° ê²€ì¦ ë¡œì§
                    sh 'python validate_flow.py flow-latest.json'
                }
            }
        }
        
        stage('Deploy to Production') {
            when {
                branch 'main'
            }
            steps {
                script {
                    // Production í™˜ê²½ìœ¼ë¡œ ë°°í¬
                    sh """
                        curl -X POST \
                          "${NIFI_PROD}/nifi-api/process-groups/root/process-groups" \
                          -H "Authorization: Bearer ${NIFI_TOKEN}" \
                          -H "Content-Type: application/json" \
                          -d @flow-latest.json
                    """
                }
            }
        }
    }
}</code>
            </div>

            <h3>GitLab CI/CD ì˜ˆì œ</h3>
            <div class="code-block" data-language="yaml">
                <code># .gitlab-ci.yml
stages:
  - test
  - deploy

variables:
  REGISTRY_URL: "https://nifi-registry:18443"
  
test-flow:
  stage: test
  script:
    - |
      # í”Œë¡œìš° ë‹¤ìš´ë¡œë“œ ë° í…ŒìŠ¤íŠ¸
      curl -X GET \
        "$REGISTRY_URL/nifi-registry-api/buckets/$BUCKET_ID/flows/$FLOW_ID/versions/latest" \
        -H "Authorization: Bearer $REGISTRY_TOKEN" \
        -o flow.json
    - python test_flow.py flow.json
  only:
    - merge_requests

deploy-to-prod:
  stage: deploy
  script:
    - |
      # Production ë°°í¬
      curl -X PUT \
        "$NIFI_PROD_URL/nifi-api/versions/process-groups/$PG_ID" \
        -H "Authorization: Bearer $NIFI_TOKEN" \
        -H "Content-Type: application/json" \
        -d '{"version": {"version": "latest"}}'
  only:
    - main
  when: manual</code>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ“Š ëª¨ë‹ˆí„°ë§ê³¼ ê´€ë¦¬</h2>
            
            <h3>Registry APIë¥¼ í™œìš©í•œ ëª¨ë‹ˆí„°ë§</h3>
            <div class="code-block" data-language="python">
                <code>import requests
import json
from datetime import datetime

class NiFiRegistryMonitor:
    def __init__(self, registry_url, token):
        self.registry_url = registry_url
        self.headers = {'Authorization': f'Bearer {token}'}
    
    def get_all_buckets(self):
        """ëª¨ë“  bucket ì •ë³´ ì¡°íšŒ"""
        response = requests.get(
            f"{self.registry_url}/nifi-registry-api/buckets",
            headers=self.headers
        )
        return response.json()
    
    def get_flow_versions(self, bucket_id, flow_id):
        """íŠ¹ì • í”Œë¡œìš°ì˜ ëª¨ë“  ë²„ì „ ì¡°íšŒ"""
        response = requests.get(
            f"{self.registry_url}/nifi-registry-api/buckets/{bucket_id}/flows/{flow_id}/versions",
            headers=self.headers
        )
        return response.json()
    
    def compare_versions(self, bucket_id, flow_id, version1, version2):
        """ë‘ ë²„ì „ ê°„ ì°¨ì´ì  ë¹„êµ"""
        v1 = self.get_flow_version(bucket_id, flow_id, version1)
        v2 = self.get_flow_version(bucket_id, flow_id, version2)
        
        # ë³€ê²½ì‚¬í•­ ë¶„ì„
        changes = {
            'processors_added': [],
            'processors_removed': [],
            'connections_changed': []
        }
        
        # ë¹„êµ ë¡œì§ êµ¬í˜„
        return changes
    
    def generate_report(self):
        """Registry ì‚¬ìš© í˜„í™© ë¦¬í¬íŠ¸ ìƒì„±"""
        buckets = self.get_all_buckets()
        report = {
            'timestamp': datetime.now().isoformat(),
            'total_buckets': len(buckets),
            'flows': []
        }
        
        for bucket in buckets:
            flows = self.get_bucket_flows(bucket['identifier'])
            for flow in flows:
                versions = self.get_flow_versions(
                    bucket['identifier'], 
                    flow['identifier']
                )
                report['flows'].append({
                    'name': flow['name'],
                    'bucket': bucket['name'],
                    'version_count': len(versions),
                    'last_modified': flow['modifiedTimestamp']
                })
        
        return report

# ì‚¬ìš© ì˜ˆ
monitor = NiFiRegistryMonitor('https://registry:18443', 'your-token')
report = monitor.generate_report()
print(json.dumps(report, indent=2))</code>
            </div>

            <h3>ë²„ì „ ì •ë¦¬ ìŠ¤í¬ë¦½íŠ¸</h3>
            <div class="code-block" data-language="bash">
                <code>#!/bin/bash
# cleanup-old-versions.sh

REGISTRY_URL="https://nifi-registry:18443"
KEEP_VERSIONS=10  # ìœ ì§€í•  ë²„ì „ ìˆ˜

# ëª¨ë“  í”Œë¡œìš°ì˜ ì˜¤ë˜ëœ ë²„ì „ ì •ë¦¬
for bucket in $(curl -s "$REGISTRY_URL/nifi-registry-api/buckets" | jq -r '.[].identifier'); do
    for flow in $(curl -s "$REGISTRY_URL/nifi-registry-api/buckets/$bucket/flows" | jq -r '.[].identifier'); do
        versions=$(curl -s "$REGISTRY_URL/nifi-registry-api/buckets/$bucket/flows/$flow/versions" | jq -r '.[].version')
        
        # ìµœì‹  Nê°œ ë²„ì „ë§Œ ìœ ì§€
        for version in $(echo "$versions" | tail -n +$((KEEP_VERSIONS+1))); do
            echo "Deleting version $version of flow $flow"
            curl -X DELETE \
              "$REGISTRY_URL/nifi-registry-api/buckets/$bucket/flows/$flow/versions/$version" \
              -H "Authorization: Bearer $TOKEN"
        done
    done
done</code>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ’¡ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸ“ ë²„ì „ ê´€ë¦¬ ì „ëµ</h4>
                    <p>â€¢ ì˜ë¯¸ ìˆëŠ” ì»¤ë°‹ ë©”ì‹œì§€ ì‘ì„±</p>
                    <p>â€¢ ì‘ì€ ë‹¨ìœ„ë¡œ ìì£¼ ì»¤ë°‹</p>
                    <p>â€¢ ê¸°ëŠ¥ë³„ë¡œ Process Group ë¶„ë¦¬</p>
                    <p>â€¢ í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ì»¤ë°‹</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ—ï¸ í™˜ê²½ ê´€ë¦¬</h4>
                    <p>â€¢ Dev/Test/Prod ë³„ë„ Bucket</p>
                    <p>â€¢ Parameter Context í™œìš©</p>
                    <p>â€¢ í™˜ê²½ë³„ ì„¤ì • ë¶„ë¦¬</p>
                    <p>â€¢ ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ” ë³´ì•ˆ</h4>
                    <p>â€¢ HTTPS ì‚¬ìš© í•„ìˆ˜</p>
                    <p>â€¢ ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´</p>
                    <p>â€¢ ë¯¼ê°ì •ë³´ ë³„ë„ ê´€ë¦¬</p>
                    <p>â€¢ ì •ê¸°ì ì¸ ë°±ì—…</p>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“Š ëª¨ë‹ˆí„°ë§</h4>
                    <p>â€¢ ë²„ì „ ë³€ê²½ ì´ë ¥ ì¶”ì </p>
                    <p>â€¢ ì‚¬ìš©ì í™œë™ ë¡œê¹…</p>
                    <p>â€¢ ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§</p>
                    <p>â€¢ ì •ê¸°ì ì¸ ë²„ì „ ì •ë¦¬</p>
                </div>
            </div>
        </div>

        <div class="content-section">
            <h2>ğŸ” ë¬¸ì œ í•´ê²°</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>ë¬¸ì œ</th>
                        <th>ì›ì¸</th>
                        <th>í•´ê²°ë°©ë²•</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Registry ì—°ê²° ì‹¤íŒ¨</td>
                        <td>ë„¤íŠ¸ì›Œí¬ ë˜ëŠ” ì¸ì¦ ë¬¸ì œ</td>
                        <td>
                            1. Registry URL í™•ì¸ (HTTPS í¬íŠ¸)<br>
                            2. ì¸ì¦ì„œ ê²€ì¦ ì„¤ì • í™•ì¸<br>
                            3. ë°©í™”ë²½ ê·œì¹™ í™•ì¸
                        </td>
                    </tr>
                    <tr>
                        <td>ë²„ì „ ì¶©ëŒ</td>
                        <td>ë™ì‹œ ìˆ˜ì •ìœ¼ë¡œ ì¸í•œ ì¶©ëŒ</td>
                        <td>
                            1. Show local changesë¡œ ì°¨ì´ì  í™•ì¸<br>
                            2. í•„ìš”ì‹œ ë¡œì»¬ ë³€ê²½ì‚¬í•­ ë°±ì—…<br>
                            3. Revert í›„ ìµœì‹  ë²„ì „ì—ì„œ ì¬ì‘ì—…
                        </td>
                    </tr>
                    <tr>
                        <td>í”Œë¡œìš° import ì‹¤íŒ¨</td>
                        <td>ë²„ì „ í˜¸í™˜ì„± ë˜ëŠ” ê¶Œí•œ ë¬¸ì œ</td>
                        <td>
                            1. NiFiì™€ í”Œë¡œìš° ë²„ì „ í˜¸í™˜ì„± í™•ì¸<br>
                            2. í•„ìš”í•œ Controller Service ì‚¬ì „ ì„¤ì •<br>
                            3. ì‚¬ìš©ì ê¶Œí•œ í™•ì¸
                        </td>
                    </tr>
                    <tr>
                        <td>ìŠ¤í† ë¦¬ì§€ ë¶€ì¡±</td>
                        <td>ë§ì€ ë²„ì „ ì¶•ì </td>
                        <td>
                            1. ì˜¤ë˜ëœ ë²„ì „ ì •ë¦¬<br>
                            2. Git ë°±ì—”ë“œ ì‚¬ìš© ê³ ë ¤<br>
                            3. ìŠ¤í† ë¦¬ì§€ ìš©ëŸ‰ ì¦ì„¤
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="content-section">
            <h2>ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤</h2>
            
            <div class="info-box">
                <strong>ì°¸ê³  ìë£Œ:</strong>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ê³µì‹ ë¬¸ì„œ: <a href="https://nifi.apache.org/registry.html" style="color: #3498db;">Apache NiFi Registry Documentation</a></li>
                    <li>REST API ë¬¸ì„œ: <a href="https://nifi.apache.org/registry-api/" style="color: #3498db;">NiFi Registry REST API</a></li>
                    <li>GitHub: <a href="https://github.com/apache/nifi-registry" style="color: #3498db;">Apache NiFi Registry Repository</a></li>
                    <li>ì»¤ë®¤ë‹ˆí‹°: <a href="https://nifi.apache.org/mailing_lists.html" style="color: #3498db;">NiFi Mailing Lists</a></li>
                </ul>
            </div>
        </div>

        <div class="navigation-buttons">
            <a href="06_Dockerë¡œ_NiFi_ì‹¤ìŠµí™˜ê²½_êµ¬ì¶•.html" class="nav-button">â† ì´ì „: Dockerë¡œ NiFi ì‹¤ìŠµí™˜ê²½ êµ¬ì¶•</a>
            <a href="index.html" class="nav-button">ëª©ì°¨ë¡œ ëŒì•„ê°€ê¸° â†’</a>
        </div>
    </div>
</body>
</html>