<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NiFi ì•„í‚¤í…ì²˜ì™€ êµ¬ì„±ìš”ì†Œ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .content {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            font-size: 2.5em;
        }
        h2 {
            color: #34495e;
            margin-top: 35px;
            font-size: 1.8em;
        }
        h3 {
            color: #555;
            margin-top: 25px;
            font-size: 1.3em;
        }
        .architecture-diagram {
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            padding: 30px;
            border-radius: 15px;
            margin: 30px 0;
            text-align: center;
        }
        .component-box {
            display: inline-block;
            background: white;
            padding: 20px;
            margin: 10px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-width: 150px;
            transition: transform 0.3s;
        }
        .component-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .layer {
            background: #f8f9fa;
            padding: 25px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
            border-radius: 8px;
        }
        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        .component-card {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
        }
        .component-card:hover {
            border-color: #667eea;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.1);
        }
        .component-card h3 {
            color: #667eea;
            margin-top: 0;
        }
        code {
            background: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #e83e8c;
        }
        pre {
            background: #2d2d2d;
            color: #fff;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            line-height: 1.5;
        }
        .flow-arrow {
            display: inline-block;
            margin: 0 15px;
            color: #667eea;
            font-size: 1.5em;
        }
        .highlight-box {
            background: linear-gradient(120deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 12px;
            margin: 8px 0;
            background: #f8f9fa;
            border-radius: 6px;
            padding-left: 40px;
            position: relative;
        }
        .feature-list li::before {
            content: "â–¶ï¸";
            position: absolute;
            left: 15px;
        }
        .info-box {
            background: #e7f5ff;
            border: 2px solid #339af0;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .warning-box {
            background: #fff4e6;
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
        }
        td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        tr:nth-child(even) {
            background: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1>ğŸ—ï¸ NiFi ì•„í‚¤í…ì²˜ì™€ êµ¬ì„±ìš”ì†Œ</h1>

            <div class="highlight-box">
                <h2>ğŸ“ ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”</h2>
                <p>Apache NiFiëŠ” Flow-Based Programming(FBP) íŒ¨ëŸ¬ë‹¤ì„ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ëœ ë¶„ì‚° ë°ì´í„° í”Œë¡œìš° ì‹œìŠ¤í…œì…ë‹ˆë‹¤. 
                ê° êµ¬ì„±ìš”ì†ŒëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ë™í•˜ë©°, ì›¹ ê¸°ë°˜ UIë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê´€ë¦¬ë©ë‹ˆë‹¤.</p>
            </div>

            <h2>ğŸ¨ NiFi ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜</h2>
            <div class="architecture-diagram">
                <h3>ê³„ì¸µë³„ ì•„í‚¤í…ì²˜ êµ¬ì¡°</h3>
                
                <div class="layer" style="background: #e3f2fd;">
                    <h4>ğŸ‘¤ ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤ ê³„ì¸µ</h4>
                    <div class="component-box">Web UI</div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box">REST API</div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box">CLI Tools</div>
                </div>

                <div class="layer" style="background: #f3e5f5;">
                    <h4>ğŸ›ï¸ í”Œë¡œìš° ì œì–´ ê³„ì¸µ</h4>
                    <div class="component-box">Flow Controller</div>
                    <span class="flow-arrow">â†’</span>
                    <div class="component-box">Process Scheduler</div>
                    <span class="flow-arrow">â†’</span>
                    <div class="component-box">Thread Pool</div>
                </div>

                <div class="layer" style="background: #e8f5e9;">
                    <h4>âš™ï¸ ì²˜ë¦¬ ê³„ì¸µ</h4>
                    <div class="component-box">Processors</div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box">Controller Services</div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box">Reporting Tasks</div>
                </div>

                <div class="layer" style="background: #fff3e0;">
                    <h4>ğŸ’¾ ì €ì¥ì†Œ ê³„ì¸µ</h4>
                    <div class="component-box">Content Repository</div>
                    <div class="component-box">FlowFile Repository</div>
                    <div class="component-box">Provenance Repository</div>
                </div>
            </div>

            <h2>ğŸ”§ í•µì‹¬ êµ¬ì„±ìš”ì†Œ ìƒì„¸</h2>
            
            <div class="component-grid">
                <div class="component-card">
                    <h3>ğŸ“„ FlowFile</h3>
                    <p><strong>ì •ì˜:</strong> NiFiì—ì„œ ì²˜ë¦¬ë˜ëŠ” ë°ì´í„°ì˜ ê¸°ë³¸ ë‹¨ìœ„</p>
                    <ul class="feature-list">
                        <li><strong>Content:</strong> ì‹¤ì œ ë°ì´í„° í˜ì´ë¡œë“œ</li>
                        <li><strong>Attributes:</strong> í‚¤-ê°’ ìŒì˜ ë©”íƒ€ë°ì´í„°</li>
                        <li><strong>UUID:</strong> ê³ ìœ  ì‹ë³„ì</li>
                        <li><strong>Lineage:</strong> ë°ì´í„° ê³„ë³´ ì •ë³´</li>
                    </ul>
                    <div class="info-box">
                        <strong>ğŸ’¡ íŠ¹ì§•:</strong> FlowFileì€ ë¶ˆë³€(immutable)ì´ë©°, 
                        ë³€ê²½ì´ í•„ìš”í•  ê²½ìš° ìƒˆë¡œìš´ FlowFileì´ ìƒì„±ë©ë‹ˆë‹¤.
                    </div>
                </div>

                <div class="component-card">
                    <h3>âš™ï¸ Processor</h3>
                    <p><strong>ì •ì˜:</strong> ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì‹¤í–‰ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸</p>
                    <ul class="feature-list">
                        <li>ë°ì´í„° ìˆ˜ì§‘ (GetFile, GetHTTP, ListenTCP)</li>
                        <li>ë°ì´í„° ë³€í™˜ (ConvertRecord, ReplaceText)</li>
                        <li>ë°ì´í„° ë¼ìš°íŒ… (RouteOnAttribute, RouteOnContent)</li>
                        <li>ë°ì´í„° ì „ì†¡ (PutFile, PostHTTP, PublishKafka)</li>
                    </ul>
                    <pre><code># Processor ì„¤ì • ì˜ˆì‹œ
Processor Name: GetFile
Properties:
  - Input Directory: /data/input
  - File Filter: .*\.csv
  - Keep Source File: false
  - Recurse Subdirectories: true</code></pre>
                </div>

                <div class="component-card">
                    <h3>ğŸ”— Connection</h3>
                    <p><strong>ì •ì˜:</strong> Processor ê°„ ë°ì´í„° ì „ë‹¬ í</p>
                    <ul class="feature-list">
                        <li><strong>Queue:</strong> FlowFile ëŒ€ê¸°ì—´</li>
                        <li><strong>Prioritization:</strong> ì²˜ë¦¬ ìš°ì„ ìˆœìœ„ ì„¤ì •</li>
                        <li><strong>Back Pressure:</strong> íë¦„ ì œì–´ ë©”ì»¤ë‹ˆì¦˜</li>
                        <li><strong>Expiration:</strong> ë§Œë£Œ ì‹œê°„ ì„¤ì •</li>
                    </ul>
                    <div class="warning-box">
                        <strong>âš ï¸ ì£¼ì˜:</strong> Back Pressure ì„¤ì •ì„ í†µí•´ ë©”ëª¨ë¦¬ ì˜¤ë²„í”Œë¡œìš°ë¥¼ ë°©ì§€í•˜ì„¸ìš”.
                        ê¸°ë³¸ê°’: 10,000ê°œ ë˜ëŠ” 1GB
                    </div>
                </div>

                <div class="component-card">
                    <h3>ğŸ“¦ Process Group</h3>
                    <p><strong>ì •ì˜:</strong> ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ê·¸ë£¹í™”í•˜ëŠ” ì»¨í…Œì´ë„ˆ</p>
                    <ul class="feature-list">
                        <li>í”Œë¡œìš° ëª¨ë“ˆí™” ë° ì¬ì‚¬ìš©</li>
                        <li>Input/Output í¬íŠ¸ë¥¼ í†µí•œ ë°ì´í„° êµí™˜</li>
                        <li>ë³€ìˆ˜ ë²”ìœ„(Variable Scope) ê´€ë¦¬</li>
                        <li>ë…ë¦½ì ì¸ ë²„ì „ ê´€ë¦¬</li>
                    </ul>
                    <div class="info-box">
                        <strong>ğŸ’¡ í™œìš©:</strong> Process Groupì„ í…œí”Œë¦¿ìœ¼ë¡œ ì €ì¥í•˜ì—¬ 
                        ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í”Œë¡œìš° íŒ¨í„´ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </div>
                </div>

                <div class="component-card">
                    <h3>ğŸ›ï¸ Controller Service</h3>
                    <p><strong>ì •ì˜:</strong> ì—¬ëŸ¬ Processorê°€ ê³µìœ í•˜ëŠ” ì„¤ì • ë° ë¦¬ì†ŒìŠ¤</p>
                    <ul class="feature-list">
                        <li>DBCPConnectionPool (ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°)</li>
                        <li>DistributedMapCacheService (ìºì‹œ ì„œë¹„ìŠ¤)</li>
                        <li>SSLContextService (SSL ì„¤ì •)</li>
                        <li>RecordReader/Writer (ë°ì´í„° í¬ë§· ì²˜ë¦¬)</li>
                    </ul>
                    <pre><code># Controller Service ì„¤ì • ì˜ˆì‹œ
Service: DBCPConnectionPool
Properties:
  - Database URL: jdbc:postgresql://localhost:5432/mydb
  - Driver Class: org.postgresql.Driver
  - Max Total Connections: 50
  - Max Idle: 10</code></pre>
                </div>

                <div class="component-card">
                    <h3>ğŸ“Š Reporting Task</h3>
                    <p><strong>ì •ì˜:</strong> ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§ ë° ë¦¬í¬íŒ… ì»´í¬ë„ŒíŠ¸</p>
                    <ul class="feature-list">
                        <li>ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘</li>
                        <li>ì™¸ë¶€ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì—°ë™</li>
                        <li>ì•Œë¦¼ ë° ê²½ê³  ì „ì†¡</li>
                        <li>ì„±ëŠ¥ ë¶„ì„ ë¦¬í¬íŠ¸ ìƒì„±</li>
                    </ul>
                </div>
            </div>

            <h2>ğŸ’¾ ì €ì¥ì†Œ ì‹œìŠ¤í…œ</h2>
            
            <div class="architecture-diagram">
                <h3>NiFi ì €ì¥ì†Œ ì•„í‚¤í…ì²˜</h3>
                
                <div class="component-grid">
                    <div class="component-card">
                        <h3>ğŸ“ Content Repository</h3>
                        <p>FlowFileì˜ ì‹¤ì œ ì½˜í…ì¸ ë¥¼ ì €ì¥í•˜ëŠ” ì €ì¥ì†Œ</p>
                        <ul>
                            <li>ë¶ˆë³€ ë°ì´í„° ì €ì¥</li>
                            <li>Copy-on-Write ì „ëµ</li>
                            <li>ìë™ ì•„ì¹´ì´ë¹™ ì§€ì›</li>
                            <li>ë‹¤ì¤‘ ë””ë ‰í† ë¦¬ ë¶„ì‚° ì €ì¥</li>
                        </ul>
                        <pre><code># nifi.properties ì„¤ì •
nifi.content.repository.directory.default=./content_repository
nifi.content.repository.archive.enabled=true
nifi.content.repository.archive.max.retention.period=12 hours</code></pre>
                    </div>

                    <div class="component-card">
                        <h3>ğŸ—‚ï¸ FlowFile Repository</h3>
                        <p>FlowFile ë©”íƒ€ë°ì´í„°ì™€ ìƒíƒœë¥¼ ì €ì¥</p>
                        <ul>
                            <li>Write-Ahead-Log (WAL) êµ¬ì¡°</li>
                            <li>íŠ¸ëœì­ì…˜ ì§€ì›</li>
                            <li>ì²´í¬í¬ì¸íŠ¸ ë©”ì»¤ë‹ˆì¦˜</li>
                            <li>ë¹ ë¥¸ ë³µêµ¬ ì§€ì›</li>
                        </ul>
                        <pre><code># nifi.properties ì„¤ì •
nifi.flowfile.repository.directory=./flowfile_repository
nifi.flowfile.repository.checkpoint.interval=2 min
nifi.queue.swap.threshold=20000</code></pre>
                    </div>

                    <div class="component-card">
                        <h3>ğŸ“ˆ Provenance Repository</h3>
                        <p>ë°ì´í„° ê³„ë³´ ë° ì´ë²¤íŠ¸ ì¶”ì  ì •ë³´ ì €ì¥</p>
                        <ul>
                            <li>ëª¨ë“  FlowFile ì´ë²¤íŠ¸ ê¸°ë¡</li>
                            <li>ë°ì´í„° ê³„ë³´ ì¶”ì </li>
                            <li>ê°ì‚¬(Audit) ë¡œê·¸</li>
                            <li>ê²€ìƒ‰ ê°€ëŠ¥í•œ ì¸ë±ìŠ¤</li>
                        </ul>
                        <pre><code># nifi.properties ì„¤ì •
nifi.provenance.repository.directory.default=./provenance_repository
nifi.provenance.repository.max.storage.size=10 GB
nifi.provenance.repository.rollover.time=5 mins</code></pre>
                    </div>
                </div>
            </div>

            <h2>ğŸ”„ ë°ì´í„° í”Œë¡œìš° ì‹¤í–‰ ëª¨ë¸</h2>
            
            <div class="info-box">
                <h3>ìŠ¤ë ˆë“œ ê´€ë¦¬ ë° ìŠ¤ì¼€ì¤„ë§</h3>
                <p>NiFiëŠ” íš¨ìœ¨ì ì¸ ë¦¬ì†ŒìŠ¤ í™œìš©ì„ ìœ„í•´ ìŠ¤ë ˆë“œ í’€ê³¼ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>êµ¬ì„± ìš”ì†Œ</th>
                        <th>ì—­í• </th>
                        <th>ì„¤ì • ê°€ëŠ¥ í•­ëª©</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Timer-Driven Thread Pool</strong></td>
                        <td>ì •ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” Processor ì²˜ë¦¬</td>
                        <td>ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜, ì‹¤í–‰ ì£¼ê¸°</td>
                    </tr>
                    <tr>
                        <td><strong>Event-Driven Thread Pool</strong></td>
                        <td>ì´ë²¤íŠ¸ ê¸°ë°˜ Processor ì²˜ë¦¬</td>
                        <td>ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜</td>
                    </tr>
                    <tr>
                        <td><strong>CRON-Driven Scheduler</strong></td>
                        <td>CRON í‘œí˜„ì‹ ê¸°ë°˜ ìŠ¤ì¼€ì¤„ë§</td>
                        <td>CRON í‘œí˜„ì‹</td>
                    </tr>
                    <tr>
                        <td><strong>Administrative Thread Pool</strong></td>
                        <td>ì‹œìŠ¤í…œ ê´€ë¦¬ ì‘ì—…</td>
                        <td>ìµœëŒ€ ìŠ¤ë ˆë“œ ìˆ˜</td>
                    </tr>
                </tbody>
            </table>

            <h2>ğŸŒ í´ëŸ¬ìŠ¤í„° êµ¬ì„± ìš”ì†Œ</h2>
            
            <div class="architecture-diagram">
                <h3>NiFi í´ëŸ¬ìŠ¤í„° ì•„í‚¤í…ì²˜</h3>
                
                <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap; margin: 30px 0;">
                    <div class="component-box" style="background: #bbdefb;">
                        <strong>ğŸ¯ Primary Node</strong><br>
                        <small>í´ëŸ¬ìŠ¤í„° ì¡°ì •ì</small>
                    </div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box" style="background: #c8e6c9;">
                        <strong>ğŸ”§ Worker Nodes</strong><br>
                        <small>ì‹¤ì œ ì²˜ë¦¬ ë…¸ë“œ</small>
                    </div>
                    <span class="flow-arrow">â†”</span>
                    <div class="component-box" style="background: #ffccbc;">
                        <strong>ğŸ“¡ ZooKeeper</strong><br>
                        <small>ìƒíƒœ ë™ê¸°í™”</small>
                    </div>
                </div>

                <ul class="feature-list">
                    <li><strong>Zero-Leader Clustering:</strong> ëª¨ë“  ë…¸ë“œê°€ ë™ë“±í•œ ê¶Œí•œ</li>
                    <li><strong>ìë™ ë¡œë“œ ë°¸ëŸ°ì‹±:</strong> ì‘ì—… ë¶€í•˜ ìë™ ë¶„ì‚°</li>
                    <li><strong>Site-to-Site í”„ë¡œí† ì½œ:</strong> í´ëŸ¬ìŠ¤í„° ê°„ ë°ì´í„° ì „ì†¡</li>
                    <li><strong>ìë™ í˜ì¼ì˜¤ë²„:</strong> ë…¸ë“œ ì¥ì•  ì‹œ ìë™ ë³µêµ¬</li>
                </ul>
            </div>

            <h2>ğŸ›¡ï¸ ë³´ì•ˆ ì•„í‚¤í…ì²˜</h2>
            
            <div class="component-grid">
                <div class="component-card">
                    <h3>ğŸ” ì¸ì¦ (Authentication)</h3>
                    <ul>
                        <li>Client Certificate (PKI)</li>
                        <li>Username/Password</li>
                        <li>Kerberos</li>
                        <li>OpenID Connect</li>
                        <li>SAML</li>
                    </ul>
                </div>

                <div class="component-card">
                    <h3>ğŸ”‘ ì¸ê°€ (Authorization)</h3>
                    <ul>
                        <li>ì„¸ë°€í•œ ì ‘ê·¼ ì œì–´ (Fine-grained Access Control)</li>
                        <li>ì‚¬ìš©ì/ê·¸ë£¹ ê¸°ë°˜ ê¶Œí•œ</li>
                        <li>ì»´í¬ë„ŒíŠ¸ë³„ ê¶Œí•œ ì„¤ì •</li>
                        <li>ë°ì´í„° ë ˆë²¨ ë³´ì•ˆ</li>
                    </ul>
                </div>

                <div class="component-card">
                    <h3>ğŸ”’ ì•”í˜¸í™”</h3>
                    <ul>
                        <li>TLS/SSL í†µì‹  ì•”í˜¸í™”</li>
                        <li>ì €ì¥ ë°ì´í„° ì•”í˜¸í™”</li>
                        <li>ë¯¼ê°í•œ ì†ì„± ì•”í˜¸í™”</li>
                        <li>ì„¤ì • íŒŒì¼ ì•”í˜¸í™”</li>
                    </ul>
                </div>
            </div>

        </div>
    </div>
</body>
</html>